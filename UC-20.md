# Use Case UC-20: Pay conference registration fee online

**Goal in Context**: An attendee pays the conference registration fee online so that they are officially registered and allowed to attend the conference.  
**Scope**: Conference Management System (CMS)  
**Level**: User Goal  
**Primary Actor**: Attendee (Registered User)  
**Secondary Actors**: Payment Gateway (external), Database (registrations, payments), Notification Service (payment confirmation)  
**Trigger**: The attendee selects the option to pay the registration fee.

## Success End Condition
* The registration fee is paid successfully, the payment is recorded, and the attendee’s registration status is updated to confirmed.

## Failed End Condition
* The payment is not completed or not recorded, the registration remains unpaid, and the attendee is informed of the failure.

## Preconditions
* The attendee is registered and authenticated (logged in).
* The attendee has selected a registration category.
* Registration prices are available.
* Online payment is enabled.

## Main Success Scenario
1. The attendee navigates to the registration/payment section.
2. The system displays the selected registration category and total fee.
3. The attendee selects **Pay Online**.
4. The system redirects the attendee to the payment gateway.
5. The attendee enters valid payment details and confirms payment.
6. The payment gateway authorizes and processes the payment.
7. The system receives confirmation of successful payment.
8. The system records the payment in the database.
9. The system updates the attendee’s registration status to **Paid/Confirmed**.
10. The system displays payment confirmation and sends a receipt/notification.

## Extensions
* **4a**: Attendee cancels payment at gateway  
  * **4a1**: The system returns the attendee to the CMS; no payment is recorded.
* **5a**: Payment details are invalid  
  * **5a1**: The payment gateway rejects the transaction and displays an error; attendee may retry.
* **6a**: Payment is declined by the payment provider  
  * **6a1**: The system informs the attendee that the payment was declined; registration remains unpaid.
* **7a**: System does not receive confirmation (timeout/error)  
  * **7a1**: The system displays a pending/failed payment message and advises retry or support contact.
* **8a**: Database error occurs while recording payment  
  * **8a1**: The system displays a system error; payment status is unresolved and requires reconciliation.

## Related Information
* **Priority**: High  
* **Frequency**: Once per attendee  
* **Open Issues**:
  * The SRS does not specify supported payment methods or refund policies.
  * The SRS does not specify handling of partial or duplicate payments.
