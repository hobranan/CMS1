# Use Case UC-20: Pay Conference Registration Fee Online

**Goal in Context**: An authenticated attendee pays the conference registration fee online so their registration becomes paid and confirmed.  
**Scope**: Conference Management System (CMS)  
**Level**: User Goal  
**Primary Actor**: User  
**Secondary Actors**: CMS services, data store  
**Trigger**: The primary actor initiates this use case.

## Success End Condition
* Payment is recorded and registration remains `paid_confirmed` across refresh and re-login.

## Failed End Condition
* Registration stays unpaid or pending unresolved, with clear attendee feedback and reconciliation when needed.

## Preconditions
* Attendee is authenticated.
* Attendee has a selected registration category.
* Online payment is enabled.

## Main Success Scenario
1. Attendee opens the payment step for registration.
2. System shows selected category and total fee.
3. Attendee chooses Pay Online.
4. System redirects attendee to payment gateway.
5. Attendee submits valid payment details.
6. Gateway returns success confirmation.
7. CMS verifies confirmation and records payment.
8. CMS updates registration to `paid_confirmed`.
9. CMS shows confirmation and sends receipt notification.

## Extensions
* **2a**: Attendee cancels at gateway.
* **2b**: CMS returns attendee with unpaid status and no payment record.
* **2c**: Gateway rejects invalid details.
  * **2c1**: CMS keeps registration unpaid and shows correction guidance.
* **2d**: Provider declines transaction.
* **2e**: CMS keeps registration unpaid and shows decline feedback.
* **2f**: Confirmation timeout or missing callback.
  * **2f1**: CMS sets unresolved/pending outcome and avoids false confirmation.
* **2g**: Gateway success but persistence fails.
  * **2g1**: CMS does not confirm registration and creates reconciliation item.
## Related Information
* **Priority**: TBD
* **Frequency**: TBD
* **Open Issues**:
  * None documented.
