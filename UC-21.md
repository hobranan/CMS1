# Use Case UC-21: Receive payment confirmation / registration ticket

**Goal in Context**: An attendee receives a payment confirmation and/or ticket after paying the registration fee so they have proof of registration for conference attendance.  
**Scope**: Conference Management System (CMS)  
**Level**: User Goal  
**Primary Actor**: Attendee (Registered User)  
**Secondary Actors**: Database (payments, registrations, ticket records), Notification Service (email/in-app), Ticket Generator (creates confirmation/ticket artifact)  
**Trigger**: The system records a successful registration payment for the attendee.

## Success End Condition
* The attendee receives a confirmation/ticket (on-screen and/or via email) containing proof of registration and can access it later in the CMS.

## Failed End Condition
* The attendee does not receive or cannot access the confirmation/ticket, and the system provides an error status or recovery path.

## Preconditions
* The attendee is registered and authenticated (or has a valid session for payment completion).
* The attendee has successfully paid the registration fee and the payment is recorded.
* The attendee has a valid contact method on file if email delivery is used.

## Main Success Scenario
1. The attendee completes online payment for conference registration.
2. The system receives and verifies successful payment confirmation from the payment gateway.
3. The system updates the attendee’s registration status to **Paid/Confirmed**.
4. The system generates a payment confirmation/ticket containing:
   - attendee identifier (e.g., name and/or registration ID),
   - conference identifier,
   - payment/registration confirmation details (e.g., amount, date),
   - ticket/confirmation reference number (or QR code, if supported).
5. The system displays the confirmation/ticket to the attendee on-screen.
6. The system sends the confirmation/ticket to the attendee via email or in-app notification.
7. The system stores the ticket/confirmation record so the attendee can retrieve it later.
8. The attendee may download/print the ticket (if supported) or keep it for proof of registration.

## Extensions
* **2a**: Payment confirmation is delayed or pending  
  * **2a1**: The system displays a pending message and does not issue a ticket until payment is confirmed.
* **6a**: Email/notification delivery fails  
  * **6a1**: The system informs the attendee that delivery failed and provides access to the ticket in the CMS for manual retrieval.
* **4a**: Ticket generation fails due to system error  
  * **4a1**: The system displays a system error message and does not issue a ticket; the attendee may retry later or contact support.
* **7a**: Database error prevents storing ticket record  
  * **7a1**: The system displays a system error message; the ticket is not reliably retrievable until resolved.
* **5a**: Attendee navigates away before viewing ticket  
  * **5a1**: The system still stores the ticket and provides it in the attendee’s account area.

## Related Information
* **Priority**: High  
* **Frequency**: Once per attendee payment  
* **Open Issues**:
  * The SRS does not specify whether tickets use QR codes or contain only confirmation details.
  * The SRS does not specify whether re-issuing tickets is allowed or how duplicates are handled.
