# Use Case UC-21: Issue Registration Ticket Confirmation

## Goal
After successful payment confirmation, the attendee receives a ticket confirmation with reference and QR code, stored as a PDF and retrievable later.

## Preconditions
- Attendee is authenticated.
- Registration payment is confirmed and recorded.

## Main Success Scenario
1. CMS confirms payment is recorded.
2. CMS generates registration ticket content.
3. CMS assigns unique ticket reference.
4. CMS generates QR code payload.
5. CMS stores ticket as PDF.
6. CMS shows ticket confirmation in UI.
7. CMS attempts notification delivery.
8. CMS keeps ticket available in account area for later retrieval.

## Extensions
- Payment still pending:
  - CMS does not issue ticket and shows pending guidance.
- Delivery fails after ticket issue:
  - CMS shows delivery failure notice, but ticket remains retrievable in account.
- Ticket generation fails:
  - CMS returns issuance error and no ticket is issued.
- Ticket storage fails:
  - CMS returns storage error and warns retrieval may be unavailable.
- Attendee leaves page before viewing:
  - Ticket remains retrievable from account area.

## Success End Condition
Attendee can access issued ticket PDF with reference and QR code from confirmation flow and account area.

## Failed End Condition
No false successful issuance is shown; attendee receives explicit pending/failure guidance.

